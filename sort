# Bubble sort for interpreter.ml

FUN PRINTARRAY A
    LET N LEN A
    FOR LET I 0; I < N; I++
        PRINT A[I]
        PRINT " "
    ENDFOR
    PRINTLN ""
ENDFUN

FUN BUBBLE A
    FUN VERIF A
        LET N LEN A
        FOR LET I 0; I < (N - 1); I++
            IF A[I] > A[I + 1]
                RETURN FALSE
            ENDIF
        ENDFOR
        RETURN TRUE
    ENDFUN
    LET N LEN A
    WHILE !(VERIF A)
        FOR LET I 0; I < (N - 1); I++
            IF A[I] > A[I + 1]
                LET TMP A[I + 1]
                LET A[I + 1] A[I]
                LET A[I] TMP
            ENDIF
        ENDFOR
    ENDWHILE
ENDFUN

PRINT "How many elements? "
SCAN INT N
LET X ARR N

FOR LET I 0; I < N; I++
    LET X[I] RAND 100
ENDFOR

PRINTARRAY X
BUBBLE X
PRINTARRAY X